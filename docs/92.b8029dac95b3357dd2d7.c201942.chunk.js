(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{"666d96ad5d2b981e9ed7":function(t,e,n){"use strict";n.r(e);var o,r=n("8af190b70a6bc55c6f1b"),i=n.n(r),a=n("8a2d1b95e05b6a321e74"),c=n.n(a),u=n("d7dd51e1bf6bfc2c9c3d"),s=n("0d7f0986bcd2f33d8a2a"),l=n.n(s),d=n("ab039aecd4a1d4fedc0e"),f=n("0b3cb19af78752326f59"),p=n("fd107da5869b7ae197ce"),m=n.n(p),y=n("a72b40110d9c31c9b5c5"),b=n("cdfaa1887f639931317a"),g=n("8c0f5da1fda3a293f1e7"),h=n("4194b0d3ea4cea922437"),v=n("6542cd13fd5dd1bcffd4"),w=n("fcb99a06256635f70435"),O=n("2157bd598f2b425595ea"),x=n("52147c536625ee918894"),j=n("671e5b10198fb4e9c897"),I=n("79020d965b3bf6e5937c"),_=n("d7c0df94d15e49ce9cff"),S=n("17a826745d7905c7f263"),C=n("e4dd33cd8c3dbbd378c3"),k=n("adaf7605d1e4a1dfd270"),L=n("54f683fcda7806277002"),P=n("6760403a719c9b65e90c"),M=n("905cf391b8f5511eada1"),z=n("0d5a1aa701766449187d"),T=n("968c3c585cf17da94a14"),E=n("1f2ed5fc42faae180b5e"),N=n("c15d1c9d30171dc8ff35"),R=n("10543a4540be5402ac6f"),A=n("6b0cd370e854fbdb6989"),B=n("2d9534734010a2eb811e");function q(t){return(q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e,n,r){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={children:void 0}),1===a)e.children=r;else if(a>1){for(var c=new Array(a),u=0;u<a;u++)c[u]=arguments[u+3];e.children=c}if(e&&i)for(var s in i)void 0===e[s]&&(e[s]=i[s]);else e||(e=i||{});return{$$typeof:o,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function G(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=F(t);if(e){var r=F(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var W,V=f.default.div.withConfig({displayName:"CategoryListKey__Styled",componentId:"sc-6eavaa-0"})(["position:absolute;left:0;top:100%;padding-top:2px;padding-left:8px;"]),J=f.default.div.withConfig({displayName:"CategoryListKey__ColumnKey",componentId:"sc-6eavaa-1"})(["padding-bottom:0.2em;"]),K=f.default.span.withConfig({displayName:"CategoryListKey__KeyItem",componentId:"sc-6eavaa-2"})(["display:block;@media (min-width:","){padding-right:1em;display:inline-block;}"],function(t){return t.theme.breakpoints.smallest}),X=f.default.div.withConfig({displayName:"CategoryListKey__ItemTitle",componentId:"sc-6eavaa-3"})(["padding-left:0.25em;display:inline-block;vertical-align:middle;color:",";font-size:0.7em;@media (min-width:","){font-size:0.8em;}@media print{font-size:",";}"],Object(P.palette)("text",1),function(t){return t.theme.breakpoints.large},function(t){return t.theme.sizes.print.smallest}),U=f.default.div.withConfig({displayName:"CategoryListKey__Square",componentId:"sc-6eavaa-4"})(["display:inline-block;background-color:",";height:0.7em;width:0.6em;vertical-align:middle;@media (min-width:","){height:0.8em;}@media print{position:relative;overflow:hidden;z-index:0;&:before{content:'';display:block;position:absolute;top:0;right:0;left:0;z-index:-1;border-bottom:100px solid ",";}}"],function(t){return Object(P.palette)(t.palette,t.pIndex||0)},function(t){return t.theme.breakpoints.large},function(t){return Object(P.palette)(t.palette,t.pIndex||0)}),Y=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(a,i.a.PureComponent);var e,n,o,r=$(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var t=this.props.keys;return H(V,{},void 0,t.map(function(t,e){return t?H(J,{},e,t.title&&H("div",{},void 0,t.title),t.items&&t.items.map(function(t,e){return H(K,{},e,H(U,{palette:t.palette,pIndex:t.pIndex}),H(X,{},void 0,t.label))})):null}))}}])&&G(e.prototype,n),o&&G(e,o),a}();function Q(t,e,n,o){W||(W="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=o;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];e.children=a}if(e&&r)for(var u in r)void 0===e[u]&&(e[u]=r[u]);else e||(e=r||{});return{$$typeof:W,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}var Z=f.default.div.withConfig({displayName:"CategoryListHeader__Styled",componentId:"sc-1yujd7v-0"})(["width:100%;background-color:",";display:table;table-layout:fixed;margin-bottom:","px;@media print{margin-bottom:","px;background-color:transparent;}"],function(t){return t.isPrint?"transparent":Object(P.palette)("light",1)},function(t){return 20*t.keyCount},function(t){return 15*t.keyCount}),tt=Object(f.default)(function(t){return i.a.createElement(B.a,t)}).withConfig({displayName:"CategoryListHeader__Column",componentId:"sc-1yujd7v-1"})(["position:relative;@media (min-width:","){padding-right:30px;}"],function(t){return t.theme.breakpoints.medium}),et=f.default.span.withConfig({displayName:"CategoryListHeader__Title",componentId:"sc-1yujd7v-2"})([""]),nt=f.default.span.withConfig({displayName:"CategoryListHeader__Via",componentId:"sc-1yujd7v-3"})(["font-style:italic;"]),ot=f.default.div.withConfig({displayName:"CategoryListHeader__SortWrapper",componentId:"sc-1yujd7v-4"})(["float:right;background-color:",";@media (min-width:","){padding:4px 2px 0 0;position:absolute;right:0;top:0;float:none;}@media (min-width:","){padding:6px 2px 0 0;}@media print{display:none;}"],Object(P.palette)("light",1),function(t){return t.theme.breakpoints.medium},function(t){return t.theme.breakpoints.large}),rt=Object(f.default)(R.a).withConfig({displayName:"CategoryListHeader__SortButton",componentId:"sc-1yujd7v-5"})(["color:inherit;padding:0;@media (min-width:","){padding:0;}"],function(t){return t.theme.breakpoints.medium});var it,at=function(t){var e=t.columns,n=t.isPrintView,o=e.reduce(function(t,e){if(e.keys){var n=Object(N.reduce)(e.keys,function(t,e){return e.items&&e.items.length>t?e.items.length:t},0);if(n>t)return n}return t},0);return Q(Z,{keyCount:o,isPrint:n},void 0,e.map(function(t,e){return Q(tt,{colWidth:t.width,isPrint:n},e,Q(et,{},void 0,t.header,t.via&&Q(nt,{},void 0," ".concat(t.via)),t.by&&Q("span",{},void 0,t.by)),t.onClick&&!n&&Q(ot,{},void 0,Q(rt,{onClick:t.onClick},void 0,Q(A.a,{name:t.sortIcon,printHide:!t.active}))),t.keys&&Q(Y,{keys:t.keys}))}))},ct=n("e28007ce196cb9f970a0"),ut=n("b05c165d93a6e8b63475");function st(t){return(st="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e,n,o){it||(it="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=o;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];e.children=a}if(e&&r)for(var u in r)void 0===e[u]&&(e[u]=r[u]);else e||(e=r||{});return{$$typeof:it,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function dt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=yt(t);if(e){var r=yt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){if(e&&("object"===st(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mt(t)}(this,n)}}function mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gt=f.default.button.withConfig({displayName:"CategoryListItem__Styled",componentId:"sc-1ibm4wn-0"})(["width:100%;cursor:pointer;text-align:left;color:",";background-color:",";margin:0;padding:5px 0;display:block;margin-bottom:2px;line-height:1.428571429;border-top:","px solid ",";&:hover{color:",";background-color:",";}@media print{padding:1em 0;border-top:1px solid ",";}"],Object(P.palette)("mainListItem",0),Object(P.palette)("mainListItem",1),function(t){return t.isPrint?1:0},Object(P.palette)("light",1),Object(P.palette)("mainListItemHover",0),Object(P.palette)("mainListItemHover",1),Object(P.palette)("light",1)),ht=f.default.div.withConfig({displayName:"CategoryListItem__TableWrap",componentId:"sc-1ibm4wn-1"})(["width:100%;display:table;table-layout:fixed;"]),vt=f.default.div.withConfig({displayName:"CategoryListItem__Column",componentId:"sc-1ibm4wn-2"})(["width:","%;display:table-cell;vertical-align:middle;"],function(t){return t.colWidth}),wt=f.default.div.withConfig({displayName:"CategoryListItem__BarWrap",componentId:"sc-1ibm4wn-3"})(["width:100%;vertical-align:middle;font-size:0px;padding:4px 6px;@media (min-width:","){padding-right:","px;padding-left:40px;}@media print{padding-top:4px;padding-right:","px;padding-bottom:4px;padding-left:24px;}"],function(t){return t.theme.breakpoints.medium},function(t){return t.secondary?36:18},function(t){return t.secondary?24:14}),Ot=f.default.div.withConfig({displayName:"CategoryListItem__Bar",componentId:"sc-1ibm4wn-4"})(["width:","%;background-color:",";vertical-align:middle;display:inline-block;position:relative;border-right:",";border-right-color:",";height:","px;@media (min-width:","){height:","px;}@media print{z-index:0;&:before{content:'';display:block;position:absolute;top:0;right:0;left:0;z-index:-1;border-bottom:","px solid ",";}}"],function(t){return t.length},function(t){return Object(P.palette)(t.palette,t.pIndex||0)},function(t){return t.secondary?"1px solid":0},Object(P.palette)("mainListItem",1),function(t){return t.multiple?8:16},function(t){return t.theme.breakpoints.xlarge},function(t){return t.multiple?12:24},function(t){return t.multiple?8:16},function(t){return Object(P.palette)(t.palette,t.pIndex||0)}),xt=f.default.div.withConfig({displayName:"CategoryListItem__Count",componentId:"sc-1ibm4wn-5"})(["display:none;position:absolute;line-height:","px;left:0;bottom:100%;padding:2px 0;color:",";white-space:nowrap;@media print,(min-width:","){display:block;font-size:",";font-weight:bold;text-align:right;padding:0 5px 0 0;right:100%;bottom:auto;left:auto;}@media (min-width:","){line-height:","px;}@media print{font-size:",";font-weight:regular;}"],function(t){return t.multiple?8:16},function(t){return Object(P.palette)(t.palette,0)},function(t){return t.theme.breakpoints.medium},function(t){var e=t.theme;return t.multiple?e.sizes.text.default:e.sizes.text.aaLargeBold},function(t){return t.theme.breakpoints.xlarge},function(t){return t.multiple?12:24},function(t){return t.theme.sizes.print.default}),jt=Object(f.default)(xt).withConfig({displayName:"CategoryListItem__CountSecondary",componentId:"sc-1ibm4wn-6"})(["right:0;top:100%;color:",";@media print,(min-width:","){text-align:left;padding:0 0 0 5px;left:100%;right:auto;bottom:auto;top:auto;}"],function(t){return Object(P.palette)(t.palette,1)},function(t){return t.theme.breakpoints.medium}),It=f.default.div.withConfig({displayName:"CategoryListItem__Title",componentId:"sc-1ibm4wn-7"})(["display:inline-block;padding:",";width:100%;font-size:",";@media (min-width:","){padding:",";font-size:",";}@media (min-width:","){padding:",";font-size:",";}@media print{font-size:",";padding:0;}"],function(t){return t.isPrint?0:"0px 4px"},function(t){return t.theme.sizes.text.smaller},function(t){return t.theme.breakpoints.medium},function(t){return t.isPrint?0:"4px 8px"},function(t){return t.theme.sizes.text.default},function(t){return t.theme.breakpoints.xlarge},function(t){return t.isPrint?0:"8px 18px"},function(t){return t.theme.sizes.text.aaLargeBold},function(t){return t.theme.sizes.print.default}),_t=f.default.div.withConfig({displayName:"CategoryListItem__StatusWrap",componentId:"sc-1ibm4wn-8"})(["padding:0 18px;"]),St=f.default.span.withConfig({displayName:"CategoryListItem__WrapAcceptedBars",componentId:"sc-1ibm4wn-9"})(["height:","px;@media (min-width:","){height:","px;}"],function(t){return t.multiple?10:15},function(t){return t.theme.breakpoints.xlarge},function(t){return t.multiple?15:25}),Ct=lt(_t,{},void 0,lt(ct.a,{draft:!0}),lt(ut.a,{})),kt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(a,i.a.PureComponent);var e,n,o,r=pt(a);function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return bt(mt(t=r.call.apply(r,[this].concat(n))),"renderSimpleBar",function(t,e,n){return lt(Ot,{length:e/t.maxCount*100,palette:t.attribute.entity,multiple:n},void 0,lt(xt,{palette:t.attribute.entity,multiple:n},void 0,e))}),bt(mt(t),"renderAcceptedBar",function(t,e,n,o){var r=e-n;return lt(St,{multiple:o},void 0,lt(Ot,{length:n/t.maxCount*100,palette:t.attribute.entity,secondary:!0,multiple:o},void 0,lt(xt,{palette:t.attribute.entity,multiple:o},void 0,n)),r>0&&lt(Ot,{length:r/t.maxCount*100,palette:t.attribute.entity,pIndex:1,multiple:o},void 0,lt(jt,{palette:t.attribute.entity,multiple:o},void 0,r)))}),bt(mt(t),"renderCountColumn",function(e,n){if(!e.attribute)return null;if(!n.counts)return lt(wt,{},void 0,t.renderSimpleBar(e,0));var o=n.counts[e.attribute.total]||0;return lt(wt,{},void 0,t.renderSimpleBar(e,o))}),t}return e=a,(n=[{key:"render",value:function(){var t=this,e=this.props,n=e.category,o=e.columns,r=e.onPageLink,i=e.isPrintView,a={id:n.get("id"),title:n.getIn(["attributes","title"]),draft:n.getIn(["attributes","draft"])};return lt(gt,{isPrint:i,onClick:function(){return r("".concat(O.I.CATEGORY,"/").concat(a.id))}},void 0,lt(ht,{},void 0,o.map(function(e,o){return lt(vt,{colWidth:e.width,multiple:e.attribute&&e.attribute.actortypeIds&&e.attribute.actortypeIds.length>1},o,"title"===e.type&&a.draft&&Ct,"title"===e.type&&lt(It,{isPrint:i},void 0,a.title),"count"===e.type&&t.renderCountColumn(e,n.toJS()))})))}}])&&dt(e.prototype,n),o&&dt(e,o),a}();kt.contextTypes={intl:c.a.object.isRequired};var Lt,Pt=kt;function Mt(t){return(Mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e,n,o){Lt||(Lt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=o;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];e.children=a}if(e&&r)for(var u in r)void 0===e[u]&&(e[u]=r[u]);else e||(e=r||{});return{$$typeof:Lt,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Tt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=At(t);if(e){var r=At(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){if(e&&("object"===Mt(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rt(t)}(this,n)}}function Rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qt=f.default.div.withConfig({displayName:"CategoryListItems__Styled",componentId:"sc-7szif7-0"})(["position:relative;",""],function(t){return t.isPrint&&Object(f.css)(["pointer-events:none;"])}),Ht=f.default.div.withConfig({displayName:"CategoryListItems__CategoryListBody",componentId:"sc-7szif7-1"})(["padding-top:5px;"]),Gt=Object(f.default)(k.a).withConfig({displayName:"CategoryListItems__GroupHeaderLink",componentId:"sc-7szif7-2"})(["color:",";&:hover{color:",";}"],Object(P.palette)("link",2),Object(P.palette)("linkHover",2)),Dt=f.default.h6.withConfig({displayName:"CategoryListItems__GroupHeader",componentId:"sc-7szif7-3"})(["font-weight:normal;font-style:",";margin-top:6px;margin-bottom:3px;@media (min-width:","){margin-top:20px;margin-bottom:10px;}@media print{margin-top:30px;margin-bottom:6px;padding-bottom:2px;font-weight:bold;font-size:",";color:",";}"],function(t){return t.empty?"italic":"normal"},function(t){return t.theme&&t.theme.breakpoints?t.theme.breakpoints.medium:"769px"},function(t){return t.theme.sizes.print.smaller},Object(P.palette)("text",1)),$t=.4,Ft=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Et(t,e)}(a,i.a.PureComponent);var e,n,o,r=Nt(a);function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return Bt(Rt(t=r.call.apply(r,[this].concat(n))),"getTagsTax",function(t,e){return t.getIn(["attributes",e])||t.get("children")&&t.get("children").some(function(t){return t.getIn(["attributes",e])})}),Bt(Rt(t),"getHeaderAttributes",function(e){var n=t.context.intl,o=[];return e.get("actiontypeIds")&&e.get("actiontypeIds").size>0&&e.get("actiontypeIds").forEach(function(t){o.push({query:"actions_".concat(t),label:n.formatMessage(x.a.entities["actions_".concat(t)].plural),order:"desc",type:"count"})}),e.get("actortypeIds")&&e.get("actortypeIds").size>0&&e.get("actortypeIds").forEach(function(t){o.push({query:"actors_".concat(t),label:n.formatMessage(x.a.entities["actors_".concat(t)].plural),order:"desc",type:"count"})}),o}),Bt(Rt(t),"getListHeaderColumns",function(e){var n=e.taxonomy,o=e.sortOptions,r=e.sortBy,i=e.sortOrder,a=e.onSort,c=e.userOnly,u=e.isGrouped,s=t.context.intl,l=t.getHeaderAttributes(n),d=o.concat(l),f=Object(M.b)(d,r,"query"),p=o.find(function(t){return"title"===t.query}),m=p.query===f.query,y=w.mb.find(function(t){return(i||p.order)===t.value}),b=[{type:"title",header:s.formatMessage(x.a.entities.taxonomies[n.get("id")].single),by:u&&s.formatMessage(x.a.labels.groupedByTaxonomy,{tax:s.formatMessage(x.a.entities.taxonomies[n.getIn(["parent","id"])].single)}),width:c||0===l.length?100:100*$t,active:m,sortIcon:m&&y?y.icon:"sorting",onClick:function(){if(m){var t=w.mb.find(function(t){return y.nextValue===t.value});a(p.query,t.value)}else a(p.query,p.order)}}];return c?b:b.concat(l.map(function(t){var e=t,n=e.query===f.query,o=w.mb.find(function(t){return(i||e.order)===t.value});return{type:t.query,isAssociated:!0,header:t.label,via:t.via,active:n,width:(1-$t)/l.length*100,sortIcon:n&&o?o.icon:"sorting",onClick:function(){if(n){var t=w.mb.find(function(t){return o.nextValue===t.value});a(e.query,t.value)}else a(e.query,e.order)}}}))}),Bt(Rt(t),"getCategoryMaxCount",function(t,e){return t.reduce(function(t,e){return t.concat(e.get("categories"))},Object(L.List)()).reduce(function(t,n){return n.getIn(["counts",e.total])?Math.max(n.getIn(["counts",e.total]),t):t},0)}),Bt(Rt(t),"getCountAttributes",function(t,e){var n=[];return e.forEach(function(t){t.isAssociated&&n.push({total:t.type,entity:"actors",width:t.width})}),n}),Bt(Rt(t),"getListColumns",function(e){var n=e.taxonomy,o=e.categoryGroups,r=e.userOnly,i=e.headerColumns,a=t.getCountAttributes(n,i),c=[{type:"title",width:r||!n||0===a.length?100:100*$t}];return r||!n?c:c.concat(a.map(function(e){return{type:"count",width:e.width,maxCount:t.getCategoryMaxCount(o,e),attribute:e}}))}),t}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=t.taxonomy,n=t.categoryGroups,o=t.onPageLink,r=t.sortOptions,a=t.sortBy,c=t.sortOrder,u=t.onSort,s=t.userOnly,l=t.isPrintView,f=this.getListHeaderColumns({taxonomy:e,sortOptions:r,sortBy:a,sortOrder:c,onSort:u,userOnly:s,isGrouped:n.size>0&&!!e.get("parent")}),p=this.getListColumns({taxonomy:e,categoryGroups:n,userOnly:s,headerColumns:f});return zt(qt,{isPrint:l},void 0,zt(at,{columns:f,isPrintView:l}),zt(Ht,{},void 0,n&&n.size>0&&n.valueSeq().toArray().map(function(t){return t.get("categories")&&"categories"===t.get("type")?zt("span",{},t.get("id"),!Object(T.b)(t.get("id"),O.C)&&zt(Gt,{to:"".concat(O.I.CATEGORY,"/").concat(t.get("id"))},void 0,zt(Dt,{},void 0,Object(z.u)(t))),Object(T.b)(t.get("id"),O.C)&&zt(Dt,{empty:!0},void 0,i.a.createElement(d.FormattedMessage,x.a.entities.categories.noParentsAssociated)),t.get("categories").map(function(t){return zt(Pt,{category:t,columns:p,onPageLink:o},t.get("id"))}),0===t.get("categories").size&&zt(E.a,{},void 0,i.a.createElement(d.FormattedMessage,x.a.entities.categories.noChildrenAssociated))):t.get("categories")&&"categories"!==t.get("type")?zt("span",{},t.get("id"),t.get("categories").map(function(t){return zt(Pt,{category:t,columns:p,onPageLink:o,isPrintView:l},t.get("id"))}),0===t.get("categories").size&&zt(E.a,{},void 0,i.a.createElement(d.FormattedMessage,x.a.entities.categories.empty))):null}),(!n||0===n.size)&&zt(E.a,{},void 0,i.a.createElement(d.FormattedMessage,x.a.entities.categories.empty))))}}])&&Tt(e.prototype,n),o&&Tt(e,o),a}();Ft.contextTypes={intl:c.a.object.isRequired};var Wt,Vt=Ft,Jt=n("c58f048c1faa567c5734"),Kt=n("d83d59632930bfc36266");function Xt(t){return(Xt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e,n,o){Wt||(Wt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=o;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];e.children=a}if(e&&r)for(var u in r)void 0===e[u]&&(e[u]=r[u]);else e||(e=r||{});return{$$typeof:Wt,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Yt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Qt(t,e){return(Qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=te(t);if(e){var r=te(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){if(e&&("object"===Xt(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ee=Object(f.default)(Kt.a).withConfig({displayName:"TaxonomySidebarItem__Styled",componentId:"qhf0ak-0"})(["display:table;table-layout:fixed;width:100%;padding:",";text-align:left;color:",";background-color:",";border-bottom:1px solid ",";&:hover{color:",";background-color:",";border-bottom-color:","}@media (min-width:","){padding:",";}@media (min-width:","){padding:",";}"],function(t){return t.small?"0.15em 8px 0.15em 24px":"0.3em 8px 0.3em 12px"},function(t){return t.active?Object(P.palette)("asideListItem",1):Object(P.palette)("asideListItem",0)},function(t){return t.active?Object(P.palette)("asideListItem",3):Object(P.palette)("asideListItem",2)},Object(P.palette)("asideListItem",4),function(t){return t.active?Object(P.palette)("asideListItemHover",1):Object(P.palette)("asideListItemHover",0)},function(t){return t.active?Object(P.palette)("asideListItemHover",3):Object(P.palette)("asideListItemHover",2)},Object(P.palette)("asideListItemHover",4),function(t){return t.theme.breakpoints.medium},function(t){return t.small?"0.15em 8px 0.15em 24px":"0.3em 8px 0.3em 12px"},function(t){return t.theme.breakpoints.xlarge},function(t){return t.small?"0.25em 8px 0.25em 32px":"0.5em 8px 0.5em 16px"}),ne=f.default.div.withConfig({displayName:"TaxonomySidebarItem__TaxTitle",componentId:"qhf0ak-1"})(["font-weight:bold;vertical-align:middle;display:table-cell;"]),oe=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qt(t,e)}(a,i.a.PureComponent);var e,n,o,r=Zt(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=t.taxonomy,n=t.nested,o=t.onTaxonomyClick;return Ut(ee,{small:n,onClick:function(t){o(t),e.onLink(e.active)},active:e.active,paletteId:parseInt(e.id,10),onMouseOver:function(){return e.onMouseOver&&e.onMouseOver()},onFocus:function(){return e.onMouseOver&&e.onMouseOver()},onMouseOut:function(){return e.onMouseOver&&e.onMouseOver(!1)},onBlur:function(){return e.onMouseOver&&e.onMouseOver(!1)}},void 0,Ut(ne,{},void 0,i.a.createElement(d.FormattedMessage,x.a.entities.taxonomies[e.id].plural)))}}])&&Yt(e.prototype,n),o&&Yt(e,o),a}();oe.contextTypes={intl:c.a.object.isRequired};var re,ie=oe,ae=n("9d11773501ba1ec9c3c5"),ce=n("9b65c001a7ca64e3a20e"),ue=n("e55557c6a5dd025d0934"),se=n("7ba07f6d4f70d0a83916"),le=n("a404df99fa1e7488413d"),de=n("811023baa6bb19060be7"),fe=n("d45f881f209f1eeec74d"),pe=function(t,e,n,o){var r=e.filter(function(e){return Object(T.b)(e.getIn(["attributes","parent_id"]),t.get("id"))}).toList().toJS();return Object(L.fromJS)({id:t.get("id"),count:t.count,onLink:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o(e?O.I.TAXONOMIES:"".concat(O.I.TAXONOMIES,"/").concat(t.get("id")))},active:parseInt(n,10)===parseInt(t.get("id"),10),children:r&&r.map(function(t){return{id:t.id,child:!0,count:t.count,onLink:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o(e?O.I.TAXONOMIES:"".concat(O.I.TAXONOMIES,"/").concat(t.id))},active:parseInt(n,10)===parseInt(t.id,10)}})})},me=function(t,e,n,o){var r=t.filter(function(t){return""===t.getIn(["attributes","parent_id"])||null===t.getIn(["attributes","parent_id"])}),i=t.filter(function(t){return!!t.getIn(["attributes","parent_id"])}),a=[];o.forEach(function(t){var o=r.filter(function(e){var n=e.get("actortypeIds").size>0?e.get("actortypeIds"):e.get("actiontypeIds");return 1===n.size&&n.find(function(e){return Object(T.b)(e,t.get("id"))})}).map(function(t){return pe(t,i,e,n)}).toList().toJS();o&&o.length>0&&a.push({id:t.get("id"),typeId:t.get("id"),taxonomies:o})});var c=r.filter(function(t){return t.get("actortypeIds").size>1&&0===t.get("actiontypeIds").size||t.get("actiontypeIds").size>1&&0===t.get("actortypeIds").size});return c&&c.size>0&&a.push({id:"common",taxonomies:c.map(function(t){return pe(t,i,e,n)}).toList().toJS()}),a},ye=Object(d.defineMessages)({title:{id:"app.components.TaxonomySidebar.title",defaultMessage:"Select category group"},titleActions:{id:"app.components.TaxonomySidebar.titleActions",defaultMessage:"Activity categories by type"},titleActors:{id:"app.components.TaxonomySidebar.titleActors",defaultMessage:"Actor categories by type"},show:{id:"app.components.TaxonomySidebar.show",defaultMessage:"Select category group"},hide:{id:"app.components.TaxonomySidebar.hide",defaultMessage:"Hide category groups"}});function be(t){return(be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ge(){return(ge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function he(t,e,n,o){re||(re="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=o;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];e.children=a}if(e&&r)for(var u in r)void 0===e[u]&&(e[u]=r[u]);else e||(e=r||{});return{$$typeof:re,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function ve(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function we(t,e){return(we=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oe(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=je(t);if(e){var r=je(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){if(e&&("object"===be(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xe(t)}(this,n)}}function xe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function je(t){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _e=Object(f.default)(ae.a).withConfig({displayName:"TaxonomySidebar__ToggleShow",componentId:"sc-1bddois-0"})(["position:absolute;bottom:0;left:0;z-index:100;padding:0.75em 1em;letter-spacing:0;border-radius:0;box-shadow:0px 0px 5px 0px rgba(0,0,0,0.5);font-size:0.85em;width:100%;@media (min-width:","){padding:0.75em 1em;font-size:0.85em;width:","px;}@media print{font-size:",";}"],function(t){return t.theme.breakpoints.medium},function(t){return t.theme.sizes.aside.width.large},function(t){return t.theme.sizes.print.smaller}),Se=Object(f.default)(Kt.a).withConfig({displayName:"TaxonomySidebar__ToggleHide",componentId:"sc-1bddois-1"})(["position:absolute;right:0;top:0;"]),Ce={visible:!1},ke=he(A.a,{name:"close"}),Le=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&we(t,e)}(a,i.a.PureComponent);var e,n,o,r=Oe(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Ie(xe(t=r.call(this)),"onShowSidebar",function(e){void 0!==e&&e.preventDefault&&e.preventDefault(),t.setState({visible:!0})}),Ie(xe(t),"onHideSidebar",function(e){void 0!==e&&e.preventDefault&&e.preventDefault(),t.setState({visible:!1})}),Ie(xe(t),"resize",function(){t.setState(Ce),t.updateViewport(),t.forceUpdate()}),t.state=Ce,t}return e=a,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.setState(Ce)}},{key:"componentDidMount",value:function(){this.updateViewport(),window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"updateViewport",value:function(){var t=w.vb.MOBILE;window.innerWidth>=parseInt(this.props.theme.breakpoints.xlarge,10)?t=w.vb.LARGE:window.innerWidth>=parseInt(this.props.theme.breakpoints.large,10)?t=w.vb.MEDIUM:window.innerWidth>=parseInt(this.props.theme.breakpoints.medium,10)&&(t=w.vb.SMALL),this.setState({viewport:t})}},{key:"render",value:function(){var t=this,e=this.props,n=e.taxonomies,o=e.active,r=e.onTaxonomyLink,a=e.actortypes,c=e.actiontypes,u=a&&n&&me(n.filter(function(t){return t.get("actortypeIds").size>0}),o,r,a),s=c&&n&&me(n.filter(function(t){return t.get("actiontypeIds").size>0}),o,r,c),l=this.context.intl;return he(fe.a,{},void 0,!this.state.visible&&this.state.viewport<w.vb.SMALL&&he(_e,{onClick:this.onShowSidebar},void 0,i.a.createElement(d.FormattedMessage,ye.show)),(this.state.visible||this.state.viewport>=w.vb.SMALL)&&he(le.a,{responsiveSmall:!0},void 0,he(de.a,{},void 0,he(ce.a,{},void 0,he(ue.a,{responsiveSmall:!0,taxonomies:!0},void 0,he(Jt.a,{title:l.formatMessage(ye.titleActions)}),this.state.viewport<w.vb.SMALL&&he(Se,{onClick:this.onHideSidebar},void 0,ke)),s&&Object(N.map)(s,function(e){return he("div",{},e.id,he(se.a,{},void 0,e.typeId&&i.a.createElement(d.FormattedMessage,ge({},x.a.taxonomyGroups.actions,{values:{type:l.formatMessage(x.a.entities["actions_".concat(e.typeId)].plural)}})),!e.typeId&&i.a.createElement(d.FormattedMessage,x.a.taxonomyGroups[e.id])),he("div",{},void 0,Object(N.map)(e.taxonomies,function(e){return he("div",{},e.id,he(ie,{taxonomy:e,onTaxonomyClick:t.onHideSidebar}),he("div",{},void 0,e.children&&e.children.length>0&&Object(N.map)(e.children,function(e){return he(ie,{nested:!0,taxonomy:e,onTaxonomyClick:t.onHideSidebar},e.id)})))})))}),he(ue.a,{responsiveSmall:!0,taxonomies:!0},void 0,he(Jt.a,{title:l.formatMessage(ye.titleActors)})),u&&Object(N.map)(u,function(e){return he("div",{},e.id,he(se.a,{},void 0,e.typeId&&i.a.createElement(d.FormattedMessage,ge({},x.a.taxonomyGroups.actors,{values:{type:l.formatMessage(x.a.entities["actors_".concat(e.typeId)].plural)}})),!e.typeId&&i.a.createElement(d.FormattedMessage,x.a.taxonomyGroups[e.id])),he("div",{},void 0,Object(N.map)(e.taxonomies,function(e){return he("div",{},e.id,he(ie,{taxonomy:e,onTaxonomyClick:t.onHideSidebar}),he("div",{},void 0,e.children&&e.children.length>0&&Object(N.map)(e.children,function(e){return he(ie,{nested:!0,taxonomy:e,onTaxonomyClick:t.onHideSidebar},e.id)})))})))})))))}}])&&ve(e.prototype,n),o&&ve(e,o),a}();Le.contextTypes={intl:c.a.object.isRequired};var Pe,Me=Object(f.withTheme)(Le);function ze(t){return(ze="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Te(t,e,n,o){Pe||(Pe="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=o;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];e.children=a}if(e&&r)for(var u in r)void 0===e[u]&&(e[u]=r[u]);else e||(e=r||{});return{$$typeof:Pe,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function Ee(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ne(t,e){return(Ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Re(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=Ae(t);if(e){var r=Ae(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){if(e&&("object"===ze(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Ae(t){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Be=Object(f.default)(fe.a).withConfig({displayName:"EntityListSidebarLoading__Styled",componentId:"sc-4a60n2-0"})(["display:none;@media (min-width:","){display:",";}@media (min-width:","){display:block;}"],function(t){return t.theme.breakpoints.medium},function(t){return t.responsiveSmall?"block":"none"},function(t){return t.theme.breakpoints.xlarge}),qe=f.default.div.withConfig({displayName:"EntityListSidebarLoading__Group",componentId:"sc-4a60n2-1"})(["height:28px;display:block;width:100%;background-color:",";margin-bottom:1px;"],Object(P.palette)("light",1)),He=f.default.div.withConfig({displayName:"EntityListSidebarLoading__Option",componentId:"sc-4a60n2-2"})(["height:30px;font-weight:bold;padding:0.5em 8px 0.5em 12px;width:100%;background-color:",";border-bottom:1px solid ",";@media (min-width:","){padding:1em 8px 1em 24px;height:50px;}"],Object(P.palette)("asideListItem",2),Object(P.palette)("asideListItem",4),function(t){return t.theme.breakpoints.xlarge}),Ge=f.default.div.withConfig({displayName:"EntityListSidebarLoading__Label",componentId:"sc-4a60n2-3"})(["background-color:",";height:0.85em;width:","%;"],Object(P.palette)("light",3),function(t){return t.width}),De=Te(Object(f.default)(de.a).withConfig({displayName:"EntityListSidebarLoading__ScrollableWrapper",componentId:"sc-4a60n2-4"})(["background-color:",";"],Object(P.palette)("background",0)),{},void 0,Te(ue.a,{}),Te(qe,{}),Te(He,{},void 0,Te(Ge,{width:30})),Te(He,{},void 0,Te(Ge,{width:35})),Te(qe,{}),Te(He,{},void 0,Te(Ge,{width:20})),Te(He,{},void 0,Te(Ge,{width:25}))),$e=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ne(t,e)}(a,i.a.Component);var e,n,o,r=Re(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){return Te(Be,{responsiveSmall:this.props.responsiveSmall},void 0,Te(le.a,{responsiveSmall:this.props.responsiveSmall},void 0,De))}}])&&Ee(e.prototype,n),o&&Ee(e,o),a}();$e.defaultProps={responsiveSmall:!1};var Fe,We=$e,Ve=Object(d.defineMessages)({supTitle:{id:"app.containers.CategoryList.supTitle",defaultMessage:"Categories"},metaDescription:{id:"app.containers.CategoryList.metaDescription",defaultMessage:"Categories overview"},notFound:{id:"app.containers.CategoryList.notFound",defaultMessage:"Sorry no categories found"},usersOnly:{id:"app.containers.CategoryList.usersOnly",defaultMessage:"Additional categories applicable to users only"}}),Je=n("e272d1dc46033dc641ed"),Ke=n("a28fc3c963a1d4d1a2e5"),Xe=Object(Ke.a)(function(t,e){return e.id},v.nc,function(t,e){if(!e||0===e.size)return null;var n="undefined"!==typeof t?t:Je.d,o=e.get(n);return o&&o.set("children",e.filter(function(t){return Object(T.b)(n,t.getIn(["attributes","parent_id"]))})).set("parent",e.find(function(t){return Object(T.b)(o.getIn(["attributes","parent_id"]),t.get("id"))}))}),Ue=function(t,e,n,o,r,i,a){return t.map(function(t,c){var u,s,l=parseInt(c,10),d=Object(L.Map)();if(e.get("children")&&e.get("children").size>0){var f=r.filter(function(t){return Object(T.b)(c,t.getIn(["attributes","parent_id"]))});u=f.reduce(function(t,e){return i.get(parseInt(e.get("id"),10))?t.concat(i.get(parseInt(e.get("id"),10)).map(function(t){return n.get(t.toString())})):t},Object(L.Map)()),s=f.reduce(function(t,e){return a.get(parseInt(e.get("id"),10))?t.concat(a.get(parseInt(e.get("id"),10)).map(function(t){return o.get(t.toString())})):t},Object(L.Map)())}else u=i.get(l)&&i.get(l).map(function(t){return n.get(t.toString())}),s=a.get(l)&&a.get(l).map(function(t){return o.get(t.toString())});return u&&u.size>0&&u.groupBy(function(t){return t&&t.getIn(["attributes","measuretype_id"])}).forEach(function(t,e){d=d.set("actions_".concat(e),t.size)}),s&&s.size>0&&s.groupBy(function(t){return t&&t.getIn(["attributes","actortype_id"])}).forEach(function(t,e){d=d.set("actors_".concat(e),t.size)}),d.size>0?t.set("counts",d):t})},Ye=Object(Ke.a)(Xe,v.o,v.L,v.Y,v.i,v.H,function(t,e,n,o,r,i){if(t&&n&&e&&o&&r&&i){var a=t&&o&&o.filter(function(e){return Object(T.b)(e.getIn(["attributes","taxonomy_id"]),t.get("id"))});if(!t.get("parent")){var c=Ue(a,t,e,n,o,r,i);return c?Object(L.Map)().set(t.get("id"),t.set("categories",c)):Object(L.Map)()}if(t.get("parent")){var u=o.filter(function(e){return Object(T.b)(e.getIn(["attributes","taxonomy_id"]),t.get("parent").get("id"))}).map(function(c){var u=a.filter(function(t){return Object(T.b)(t.getIn(["attributes","parent_id"]),c.get("id"))}),s=Ue(u,t,e,n,o,r,i);return c.set("categories",s)}),s=a.filter(function(t){return!t.getIn(["attributes","parent_id"])});if(s&&s.size>0){var l=Ue(s,t,e,n,o,r,i);return u.set(O.C,Object(L.Map)().set("id",O.C).set("type","categories").set("categories",l))}return u}}return null}),Qe=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=(!e||"title"===e)&&Je.c,i=t&&t.map(function(t){var i=t.get("categories").filter(function(t){return o?t.getIn(["attributes","user_only"]):!t.getIn(["attributes","user_only"])});return t.set("categories",Object(M.d)(i,n||(r?r.order:"desc"),r?r.field:e,r?r.type:"count"))});return Object(M.d)(i,n||(r?r.order:"asc"),r?r.field:"title",r?r.type:"string")},Ze=Object(Ke.a)(Ye,v.hc,v.ic,function(t,e,n){return t?Qe(t,e,n):Object(L.Map)()}),tn=Object(Ke.a)(Ye,v.hc,v.ic,function(t,e,n){return t?Qe(t,e,n,!0):Object(L.Map)()});function en(t,e,n,o){Fe||(Fe="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=o;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];e.children=a}if(e&&r)for(var u in r)void 0===e[u]&&(e[u]=r[u]);else e||(e=r||{});return{$$typeof:Fe,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}n.d(e,"CategoryList",function(){return fn});var nn=f.default.h4.withConfig({displayName:"CategoryList__UsersOnly",componentId:"qz97u9-0"})(["margin-top:4em;"]),on=f.default.div.withConfig({displayName:"CategoryList__Description",componentId:"qz97u9-1"})(["margin-bottom:2em;"]),rn=Object(f.default)(m.a).withConfig({displayName:"CategoryList__Markdown",componentId:"qz97u9-2"})(["font-size:",";@media (min-width:","){font-size:",";}@media print{font-size:",";}"],function(t){return t.theme.sizes.text.markdownMobile},function(t){return t.theme.breakpoints.medium},function(t){return t.theme.sizes.text.markdown},function(t){return t.theme.sizes.print.markdown}),an=function(t,e){return e.formatMessage(x.a.entities.taxonomies[t].plural)},cn=function(t,e){return e.formatMessage(x.a.entities.taxonomies[t].description)},un=function(t,e){return e.formatMessage(x.a.entities.taxonomies[t].shortSingle||x.a.entities.taxonomies[t].single)},sn=en(We,{responsiveSmall:!0}),ln=en(h.a,{}),dn=en(S.a,{});function fn(t){var e=t.taxonomy,n=t.taxonomies,o=t.categoryGroups,a=t.userOnlyCategoryGroups,c=t.dataReady,u=t.isManager,s=t.onPageLink,f=t.onTaxonomyLink,p=t.actortypes,m=t.actiontypes,y=t.onSort,h=t.location,v=t.intl,S=t.onLoadEntitiesIfNeeded,k=t.handleNew,L=t.redirectToDefaultTaxonomy,P=t.onSetPrintView;Object(r.useEffect)(function(){c||S()},[c]),Object(r.useEffect)(function(){e||L(O.u)},[e]);var M=function(){return P({printType:w.I.LIST,printOrientation:"portrait",printSize:"A4"})},z=function(t){Object(b.a)(t,M)};Object(r.useEffect)(function(){return document.addEventListener("keydown",z),function(){document.removeEventListener("keydown",z)}},[]);var T=e&&e.get("id"),E=e&&"undefined"!==typeof T?an(T,v):"",N=e&&"undefined"!==typeof T&&cn(T,v),R=[];c&&T&&window.print&&(R.push({type:"icon",onClick:M,title:"Print",icon:"print"}),u&&"undefined"!==typeof T&&R.push({type:"add",title:[v.formatMessage(x.a.buttons.add),{title:un(T,v),hiddenSmall:!0}],onClick:function(){return k(T)}}));var A=u&&c&&a&&a.reduce(function(t,e){return t||e.get("categories")&&e.get("categories").size>0},!1),B=Object(g.b)();return en("div",{},void 0,en(l.a,{title:"".concat(v.formatMessage(Ve.supTitle),": ").concat(E),meta:[{name:"description",content:v.formatMessage(Ve.metaDescription)}]}),!c&&sn,c&&"undefined"!==typeof T&&en(Me,{taxonomies:n,active:T,actortypes:p,actiontypes:m,onTaxonomyLink:f}),en(j.a,{sidebarResponsiveSmall:!0,isPrint:B},void 0,B&&ln,en(I.a,{isPrint:B},void 0,en(_.a,{isPrint:B},void 0,en(C.a,{type:w.i,icon:"categories",supTitle:v.formatMessage(Ve.supTitle),title:E,buttons:R}),N&&en(on,{},void 0,en(rn,{source:N,className:"react-markdown"})),!c&&dn,c&&e&&en(Vt,{taxonomy:e,categoryGroups:o,onPageLink:s,onSort:y,sortOptions:[Je.c],sortBy:h.query&&h.query.sort,sortOrder:h.query&&h.query.order,isPrintView:B}),A&&en(nn,{},void 0,i.a.createElement(d.FormattedMessage,Ve.usersOnly)),c&&e&&A&&en(Vt,{taxonomy:e,categoryGroups:a,onPageLink:s,onSort:y,sortOptions:[Je.c],sortBy:"title",sortOrder:h.query&&h.query.order,userOnly:!0})))))}e.default=Object(u.connect)(function(t,e){return{actortypes:Object(v.T)(t),actiontypes:Object(v.v)(t),isManager:Object(v.xb)(t),dataReady:Object(v.Pb)(t,{path:Je.a}),taxonomies:Object(v.oc)(t),taxonomy:Xe(t,{id:e.params.id}),categoryGroups:Ze(t,{id:"undefined"!==typeof e.params.id?e.params.id:O.u}),userOnlyCategoryGroups:tn(t,{id:"undefined"!==typeof e.params.id?e.params.id:O.u})}},function(t){return{onLoadEntitiesIfNeeded:function(){Je.a.forEach(function(e){return t(Object(y.s)(e))})},redirectToDefaultTaxonomy:function(e){t(Object(y.cb)("".concat(O.I.TAXONOMIES,"/").concat(e),{replace:!0}))},handleNew:function(e){t(Object(y.cb)("".concat(O.I.TAXONOMIES,"/").concat(e).concat(O.I.NEW),{replace:!0}))},onPageLink:function(e){t(Object(y.cb)(e))},onTaxonomyLink:function(e){t(Object(y.cb)(e,{keepQuery:!0}))},onSort:function(e,n){t(function(t){var e=t.sort,n=t.order;return{type:Je.b,sort:e,order:n}}({sort:e,order:n}))},onSetPrintView:function(e){t(Object(y.z)(e))}}})(Object(d.injectIntl)(fn))}}]);