(window.webpackJsonp = window.webpackJsonp || []).push([[113], {
  fc36557cb5c41670be0b(e, t, n) {
    n.r(t); let c; const r = n('8af190b70a6bc55c6f1b'); const i = n.n(r); const o = (n('8a2d1b95e05b6a321e74'), n('d7dd51e1bf6bfc2c9c3d')); const a = n('0d7f0986bcd2f33d8a2a'); const u = n.n(a); const s = n('ab039aecd4a1d4fedc0e'); const d = n('57b36dff0c422d2b9c67'); const f = n('0d5a1aa701766449187d'); const b = n('a72b40110d9c31c9b5c5'); const l = n('2157bd598f2b425595ea'); const p = n('fcb99a06256635f70435'); const O = n('cdfaa1887f639931317a'); const y = n('17a826745d7905c7f263'); const j = n('4bbbd76528501909b843'); const E = n('0765c307dd1d0b7a1748'); const m = n('6542cd13fd5dd1bcffd4'); const S = n('52147c536625ee918894'); const g = Object(s.defineMessages)({ pageTitle: { id: 'app.containers.ResourceView.pageTitle', defaultMessage: 'Resource' }, metaDescription: { id: 'app.containers.ResourceView.metaDescription', defaultMessage: 'Resource page description' }, notFound: { id: 'app.containers.ResourceView.notFound', defaultMessage: 'Sorry no actor found' } }); const C = n('a28fc3c963a1d4d1a2e5'); const v = n('54f683fcda7806277002'); const I = [l.n.USERS, l.n.USER_ROLES, l.n.CATEGORIES, l.n.TAXONOMIES, l.n.RESOURCES, l.n.ACTIONS, l.n.ACTORS, l.n.ACTIONTYPES, l.n.ACTIONTYPE_TAXONOMIES, l.n.ACTION_RESOURCES, l.n.ACTION_CATEGORIES, l.n.ACTOR_ACTIONS, l.n.ACTION_ACTORS, l.n.PAGES]; const R = Object(C.a)((e, t) => Object(m.ib)(e, { path: l.n.RESOURCES, id: t }), (e) => Object(m.eb)(e, l.n.USERS), (e, t) => Object(f.l)(e, t)); const h = Object(C.a)((e, t) => t, m.m, (e, t) => t.get(parseInt(e, 10))); const A = Object(C.a)(m.o, h, (e, t) => e && t && t.reduce((t, n) => { const c = e.get(n.toString()); return c ? t.set(n, c) : t; }, Object(v.Map)())); const T = Object(C.a)((e) => Object(m.Pb)(e, { path: I }), A, m.j, m.B, m.d, m.l, m.h, m.Y, (e, t, n, c, r, i, o, a) => e ? t && t.map((e) => Object(f.I)({
      action: e, actionConnections: n, actorActions: c, actionActors: r, actionResources: i, categories: a, actionCategories: o,
    })).groupBy((e) => e.getIn(['attributes', 'measuretype_id'])).sortBy((e, t) => t, (e, t) => { const n = l.b[e]; const c = l.b[t]; return n.order < c.order ? -1 : 1; }) : Object(v.Map)()); function w(e, t, n, r) {
      c || (c = typeof Symbol === 'function' && Symbol.for && Symbol.for('react.element') || 60103); const i = e && e.defaultProps; const o = arguments.length - 3; if (t || o === 0 || (t = { children: void 0 }), o === 1)t.children = r; else if (o > 1) { for (var a = new Array(o), u = 0; u < o; u++)a[u] = arguments[u + 3]; t.children = a; } if (t && i) for (const s in i) void 0 === t[s] && (t[s] = i[s]); else t || (t = i || {}); return {
        $$typeof: c, type: e, key: void 0 === n ? null : `${n}`, ref: null, props: t, _owner: null,
      };
    } function M(e) { return (function (e) { if (Array.isArray(e)) return _(e); }(e)) || (function (e) { if (typeof Symbol !== 'undefined' && e[Symbol.iterator] != null || e['@@iterator'] != null) return Array.from(e); }(e)) || (function (e, t) { if (!e) return; if (typeof e === 'string') return _(e, t); let n = Object.prototype.toString.call(e).slice(8, -1); n === 'Object' && e.constructor && (n = e.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(e); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _(e, t); }(e)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'); }()); } function _(e, t) { (t == null || t > e.length) && (t = e.length); for (var n = 0, c = new Array(t); n < t; n++)c[n] = e[n]; return c; }n.d(t, 'ResourceView', () => V); const k = function (e) { const t = e.getIn(['attributes', 'resourcetype_id']); return [{ fields: [Object(f.e)(t, 'title') && Object(d.u)(e)] }]; }; const N = function (e) { return [{ fields: [Object(d.r)(e), Object(d.m)(e)] }]; }; const U = function (e, t, n, c, r) {
      const i = []; const o = e.getIn(['attributes', 'resourcetype_id']); if (i.push({ fields: [Object(f.e)(o, 'url') && Object(d.j)(e), Object(f.e)(o, 'description') && Object(d.l)(e, 'description', !0), Object(f.e)(o, 'status') && Object(d.l)(e, 'status', !0)] }), t) {
        const a = []; t.forEach((e, t) => {
          a.push(Object(d.b)({
            actions: e, taxonomies: n, onEntityClick: r, connections: c, typeid: t,
          }));
        }), i.push({ label: S.a.nav.actions, fields: a });
      } return i;
    }; const P = function (e) { const t = []; const n = e.getIn(['attributes', 'resourcetype_id']); return t.push({ fields: [Object(f.e)(n, 'publication_date') && Object(d.e)(e, 'publication_date'), Object(f.e)(n, 'access_date') && Object(d.e)(e, 'access_date')] }), t; }; const L = w(y.a, {}); function V(e) {
      const t = e.onLoadEntitiesIfNeeded; const n = e.viewEntity; const c = e.dataReady; const o = e.isManager; const a = e.taxonomies; const d = e.actionsByActiontype; const b = e.actionConnections; const l = e.onEntityClick; const y = e.handleTypeClick; const m = e.handleEdit; const C = e.handleClose; const v = e.params; const I = e.onSetPrintView; const R = e.intl; Object(r.useEffect)(() => { c || t(); }, [c]); const h = function () { return I({ printType: p.I.SINGLE, printOrientation: 'portrait', printSize: 'A4' }); }; const A = function (e) { Object(O.a)(e, h); }; Object(r.useEffect)(() => document.addEventListener('keydown', A), () => { document.removeEventListener('keydown', A); }, []); const T = n && n.getIn(['attributes', 'resourcetype_id']); let _ = []; c && (window.print && (_ = [].concat(M(_), [{
        type: 'icon', onClick() { return h(); }, title: 'Print', icon: 'print',
      }])), o && (_ = [].concat(M(_), [{ type: 'edit', onClick: m }]))); const V = T ? R.formatMessage(S.a.entities['resources_'.concat(T)].single) : R.formatMessage(S.a.entities.resources.single); const B = n ? ''.concat(V, ': ').concat(Object(f.z)(n)) : ''.concat(V, ': ').concat(v.id); return w('div', {}, void 0, w(u.a, { title: B, meta: [{ name: 'description', content: R.formatMessage(g.metaDescription) }] }), w(j.a, { isSingle: !0 }, void 0, !c && L, !n && c && w('div', {}, void 0, i.a.createElement(s.FormattedMessage, g.notFound)), n && c && w(E.a, {
        header: {
          title: T ? R.formatMessage(S.a.resourcetypes[T]) : R.formatMessage(S.a.entities.resources.plural), onClose() { return C(T); }, buttons: _, onTypeClick() { return y(T); },
        },
        fields: { header: { main: k(n), aside: o && N(n) }, body: { main: U(n, d, a, b, l), aside: P(n) } },
      })));
    }t.default = Object(o.connect)((e, t) => ({
      isManager: Object(m.xb)(e), dataReady: Object(m.Pb)(e, { path: I }), viewEntity: R(e, t.params.id), taxonomies: Object(m.pc)(e), actionsByActiontype: T(e, t.params.id), actionConnections: Object(m.j)(e),
    }), (e, t) => ({
      onLoadEntitiesIfNeeded() { I.forEach((t) => e(Object(b.s)(t))); }, handleEdit() { e(Object(b.cb)(''.concat(l.I.RESOURCE).concat(l.I.EDIT, '/').concat(t.params.id), { replace: !0 })); }, handleClose(t) { e(Object(b.f)(''.concat(l.I.RESOURCES, '/').concat(t))); }, handleTypeClick(t) { e(Object(b.cb)(''.concat(l.I.RESOURCES, '/').concat(t))); }, onEntityClick(t, n) { e(Object(b.cb)(''.concat(n, '/').concat(t))); }, onSetPrintView(t) { e(Object(b.z)(t)); },
    }))(Object(s.injectIntl)(V));
  },
}]);
