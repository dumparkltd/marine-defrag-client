(window.webpackJsonp = window.webpackJsonp || []).push([[114], {
  '86e3be8872bced91b892': function (e, t, r) {
    r.r(t); const a = r('8af190b70a6bc55c6f1b'); const n = r.n(a); const o = r('8a2d1b95e05b6a321e74'); const i = r.n(o); const c = r('d7dd51e1bf6bfc2c9c3d'); const s = r('0d7f0986bcd2f33d8a2a'); const u = r.n(s); const l = r('0b3cb19af78752326f59'); const d = r('6760403a719c9b65e90c'); const f = r('54f683fcda7806277002'); const p = r('5ca68c6edf7ca33c5f8f'); const g = r('eb656803928a435bd3cc'); const h = r('1e6573c9df9849cdb69d'); const b = r('fe9f56017646a6119f0d'); const y = r('ab039aecd4a1d4fedc0e'); const m = r('422249433a2d25af359d'); const v = r('968c3c585cf17da94a14'); const S = r('a72b40110d9c31c9b5c5'); const O = r('6542cd13fd5dd1bcffd4'); const j = r('fcb99a06256635f70435'); const P = r('d83d59632930bfc36266'); const w = r('79020d965b3bf6e5937c'); const M = r('06c544058ac212c34b44'); const T = r('17a826745d7905c7f263'); const x = r('e4dd33cd8c3dbbd378c3'); const _ = r('46107f5ebbe500ea5a3c'); const E = r('d7c0df94d15e49ce9cff'); const k = r('89d17c0c0388853a8d66'); const R = r('52147c536625ee918894'); const C = r('ce1150625851d45f3cbe'); const A = r('a28fc3c963a1d4d1a2e5'); const z = r('0d5a1aa701766449187d'); const I = r('905cf391b8f5511eada1'); const N = Object(A.a)(O.zb, (e) => e && e.get('path')); const L = Object(A.a)((e) => Object(O.Pb)(e, { path: C.b }), O.bc, O.fb, O.nc, N, O.hc, O.ic, (e, t, r, a, n, o, i) => !e || !t || t.size < 2 ? null : Object(f.fromJS)(C.a.search).map((e) => e.get('group') === 'taxonomies' ? e.set('targets', a.map((a) => { const n = r.get('categories').filter((e) => Object(v.b)(a.get('id'), e.getIn(['attributes', 'taxonomy_id']))).map((t) => e.get('search').reduce((e, t) => e.setIn(['attributes', t.get('as')], a.getIn(['attributes', t.get('attribute')])), t)); const o = t ? Object(z.p)(n, t, e.get('categorySearch').valueSeq().toArray()) : n; return Object(f.Map)().set('path', 'taxonomies-'.concat(a.get('id'))).set('optionPath', 'taxonomies-'.concat(a.get('id'))).set('clientPath', 'category').set('taxId', a.get('id')).set('results', o.toList()); }).toList()) : e.set('targets', e.get('targets').filter((e) => !!e).reduce((e, a) => { const c = r.get(a.get('path')); if (a.get('groupByType') && a.get('typeAttribute') && a.get('typePath')) return r.get(a.get('typePath')).reduce((e, r) => { const s = c.filter((e) => Object(v.b)(e.getIn(['attributes', a.get('typeAttribute')]), r.get('id'))); const u = t ? Object(z.p)(s, t, a.get('search').valueSeq().toArray()) : s; const l = ''.concat(a.get('optionPath') || a.get('path'), '_').concat(r.get('id')); const d = a.set('clientPath', a.get('clientPath')).set('optionPath', l).set('path', a.get('path')); if (n === l) { const f = Object(I.b)(d.get('sorting') && d.get('sorting').toJS(), o); return e.push(d.set('results', Object(I.d)(u, i || (f ? f.order : 'desc'), o || (f ? f.attribute : 'id'), f ? f.type : 'number'))); } return e.push(d.set('results', u)); }, e); const s = t ? Object(z.p)(c, t, a.get('search').valueSeq().toArray()) : r.get(a.get('path')); if (n === a.get('path')) { const u = Object(I.b)(a.get('sorting') && a.get('sorting').toJS(), o); return e.push(a.set('optionPath', a.get('path')).set('results', Object(I.d)(s, i || (u ? u.order : 'desc'), o || (u ? u.attribute : 'id'), u ? u.type : 'number'))); } return e.push(a.set('results', s).set('optionPath', a.get('path'))); }, Object(f.List)())))); function q(e) { return { type: C.f, value: e }; } let J; const D = Object(y.defineMessages)({
      pageTitle: { id: 'app.containers.Search.pageTitle', defaultMessage: 'Search' },
      metaDescription: { id: 'app.containers.Search.metaDescription', defaultMessage: 'Search page description' },
      sidebarTitle: { id: 'app.containers.Search.sidebarTitle', defaultMessage: 'Select search target' },
      search: { id: 'app.containers.Search.search', defaultMessage: 'Search database' },
      placeholder: { id: 'app.containers.Search.placeholder', defaultMessage: 'Search database by keyword' },
      groups: {
        actions: { id: 'app.containers.Search.groups.actions', defaultMessage: 'Activities' }, actors: { id: 'app.containers.Search.groups.actors', defaultMessage: 'Actors' }, resources: { id: 'app.containers.Search.groups.resources', defaultMessage: 'Resources' }, taxonomies: { id: 'app.containers.Search.groups.taxonomies', defaultMessage: 'Category groups' }, content: { id: 'app.containers.Search.groups.content', defaultMessage: 'Content' },
      },
      hints: {
        noEntry: { id: 'app.containers.Search.hints.noEntry', defaultMessage: 'Please enter a search text to start your search.' }, noTarget: { id: 'app.containers.Search.hints.noTarget', defaultMessage: 'Please enter a search text to start your search.' }, noQuery: { id: 'app.containers.Search.hints.noQuery', defaultMessage: 'Please enter a search text to start your search.' }, noResults: { id: 'app.containers.Search.hints.noResults', defaultMessage: 'We are sorry, there are no results for the selected search target. Please select a different target or try a different search text.' }, noResultsNoAlternative: { id: 'app.containers.Search.hints.noResultsNoAlternative', defaultMessage: 'We are sorry, no content matched your search! Please try a different search text.' }, targetMobile: { id: 'app.containers.Search.hints.targetMobile', defaultMessage: 'Select search target - see results below' }, resultsMobile: { id: 'app.containers.Search.hints.resultsMobile', defaultMessage: 'Search results' },
      },
    }); function F(e) { return (F = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? function (e) { return typeof e; } : function (e) { return e && typeof Symbol === 'function' && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e; })(e); } function W(e, t, r, a) {
      J || (J = typeof Symbol === 'function' && Symbol.for && Symbol.for('react.element') || 60103); const n = e && e.defaultProps; const o = arguments.length - 3; if (t || o === 0 || (t = { children: void 0 }), o === 1)t.children = a; else if (o > 1) { for (var i = new Array(o), c = 0; c < o; c++)i[c] = arguments[c + 3]; t.children = i; } if (t && n) for (const s in n) void 0 === t[s] && (t[s] = n[s]); else t || (t = n || {}); return {
        $$typeof: J, type: e, key: void 0 === r ? null : `${r}`, ref: null, props: t, _owner: null,
      };
    } function B(e, t) { for (let r = 0; r < t.length; r++) { const a = t[r]; a.enumerable = a.enumerable || !1, a.configurable = !0, 'value' in a && (a.writable = !0), Object.defineProperty(e, a.key, a); } } function Q(e, t) { return (Q = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e; })(e, t); } function U(e) { const t = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], () => {})), !0; } catch (e) { return !1; } }()); return function () { let r; const a = H(e); if (t) { const n = H(this).constructor; r = Reflect.construct(a, arguments, n); } else r = a.apply(this, arguments); return (function (e, t) { if (t && (F(t) === 'object' || typeof t === 'function')) return t; if (void 0 !== t) throw new TypeError('Derived constructors may only return object or undefined'); return $(e); }(this, r)); }; } function $(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; } function H(e) { return (H = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e); })(e); }r.d(t, 'Search', () => re); const G = l.default.div.withConfig({ displayName: 'Search__EntityListSearch', componentId: 'abrcyc-0' })(['padding:0 0 2em;']); const K = Object(l.default)(P.a).withConfig({ displayName: 'Search__Target', componentId: 'abrcyc-1' })(['font-size:0.85em;font-weight:', ';padding:0;text-align:left;@media (min-width:', '){padding:0;}'], (e) => e.active ? 'bold' : 'normal', (e) => e.theme.breakpoints.medium); const V = l.default.div.withConfig({ displayName: 'Search__ListHint', componentId: 'abrcyc-2' })(['color:', ';margin-bottom:50px;'], Object(d.palette)('dark', 3)); const X = l.default.div.withConfig({ displayName: 'Search__ListWrapper', componentId: 'abrcyc-3' })(['']); const Y = W(T.a, {}); const Z = W(p.a, {}, void 0, 'Please select a content type below to see individual results'); const ee = W(h.a, { size: 'large' }); const te = W(b.a, { size: 'large' }); var re = (function (e) {
      !(function (e, t) { if (typeof t !== 'function' && t !== null) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Q(e, t); }(i, n.a.PureComponent)); let t; let r; let a; const o = U(i); function i() {
        let e; let t; let r; let a; !(function (e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function'); }(this, i)); for (var n = arguments.length, c = new Array(n), s = 0; s < n; s++)c[s] = arguments[s]; return e = o.call.apply(o, [this].concat(c)), t = $(e), a = function (e, t, r) { let a; return (a = Object(m.d)(e.get('path'), 'taxonomies') ? R.a.entities.taxonomies[e.get('taxId')] : R.a.entities[e.get('optionPath') || e.get('path')]) ? t === 1 ? r.formatMessage(a.singleLong || a.single) : r.formatMessage(a.pluralLong || a.plural) : e.get('path'); }, (r = 'getTargetTitle') in t ? Object.defineProperty(t, r, {
          value: a, enumerable: !0, configurable: !0, writable: !0,
        }) : t[r] = a, e;
      } return t = i, (r = [{ key: 'UNSAFE_componentWillMount', value() { this.props.loadEntitiesIfNeeded(); } }, { key: 'UNSAFE_componentWillReceiveProps', value(e) { e.dataReady || this.props.loadEntitiesIfNeeded(); } }, {
        key: 'render',
        value() {
          const e = this; const t = this.context.intl; const r = this.props; const a = r.dataReady; const o = r.location; const i = r.onSearch; const c = r.onClear; const s = r.entities; const l = r.onEntityClick; const d = r.activeTargetPath; const f = !!o.query.search; const h = a && f && s && s.reduce((e, t) => t.get('targets').reduce((e, t) => t.get('results') ? e + t.get('results').size : e, e), 0); const b = h > 0; const m = a && f && s && s.reduce((e, t) => t.get('targets').reduce((e, t) => t.get('results') && t.get('results').size > 0 ? e + 1 : e, e), 0); const S = [{
            type: 'icon', onClick() { return window.print(); }, title: 'Print', icon: 'print',
          }]; return W('div', {}, void 0, W(u.a, { title: t.formatMessage(D.pageTitle), meta: [{ name: 'description', content: t.formatMessage(D.metaDescription) }] }), W(M.a, {}, void 0, W(w.a, {}, void 0, W(E.a, {}, void 0, W(x.a, {
            type: j.i, supTitle: t.formatMessage(D.pageTitle), title: t.formatMessage(D.search), icon: 'search', buttons: S,
          }), !a && Y, a && W('div', {}, void 0, W(G, {}, void 0, W(_.a, {
            filters: [], placeholder: t.formatMessage(D.placeholder), searchQuery: o.query.search || '', onSearch: i, onClear() { return c(['search']); },
          })), W(X, {}, void 0, !f && W(V, {}, void 0, n.a.createElement(y.FormattedMessage, D.hints.noQuery)), f && !b && W(V, {}, void 0, n.a.createElement(y.FormattedMessage, D.hints.noResultsNoAlternative)), b && W(g.a, {}, void 0, W(V, {}, void 0, W(p.a, {}, void 0, ''.concat(h, ' ').concat(h === 1 ? 'result' : 'results', ' found in database. ')), m > 1 && Z), s.map((r, a) => r.get('targets').some((e) => e.get('results') && e.get('results').size > 0) ? W(g.a, { margin: { bottom: 'large' } }, a, W(g.a, { margin: { bottom: 'xsmall' } }, void 0, W(p.a, { size: 'small' }, void 0, n.a.createElement(y.FormattedMessage, D.groups[r.get('group')]))), W(g.a, {}, void 0, r.get('targets') && r.get('targets').map((r) => {
            if (r.get('results') && r.get('results').size > 0) {
              const a = r.get('results').size; const n = e.getTargetTitle(r, a, t); const o = Object(v.a)(r.get('optionPath'), d); const i = m > 1; return W(g.a, {}, r.get('optionPath'), W(g.a, { border: 'bottom', gap: 'xsmall' }, void 0, W(K, { onClick(t) { void 0 !== t && t.preventDefault && t.preventDefault(), o ? e.props.onTargetSelect('') : e.props.onTargetSelect(r.get('optionPath')); }, active: o }, void 0, W(g.a, {
                direction: 'row', gap: 'small', align: 'center', justify: 'between',
              }, void 0, W(g.a, { direction: 'row', gap: 'xsmall', pad: { vertical: 'small' } }, void 0, W(p.a, { size: 'large' }, void 0, a), W(p.a, { size: 'large' }, void 0, n)), i && o && ee, i && !o && te))), (o || !i) && W(g.a, { margin: { bottom: 'large' } }, void 0, r.get('results').toList().map((e, t) => W(k.a, { entity: e, entityPath: r.get('clientPath') || r.get('path'), onEntityClick: l }, t))));
            } return null;
          }))) : null))))))));
        },
      }]) && B(t.prototype, r), a && B(t, a), i;
    }()); re.contextTypes = { intl: i.a.object.isRequired }; t.default = Object(l.withTheme)(Object(c.connect)((e) => ({ dataReady: Object(O.Pb)(e, { path: C.b }), entities: L(e), activeTargetPath: N(e) }), (e) => ({
      loadEntitiesIfNeeded() { C.b.forEach((t) => e(Object(S.s)(t))); },
      onSearch(t) {
        e(q(Object(f.fromJS)([{
          query: 'search', value: t, replace: !0, checked: t !== '',
        }])));
      },
      onClear(t) { e(function (e) { return { type: C.c, values: e }; }(t)); },
      onTargetSelect(t) {
        e(q(Object(f.fromJS)([{
          query: 'path', value: t, replace: !0, checked: t !== '',
        }])));
      },
      onEntityClick(t, r) { e(Object(S.cb)(''.concat(r, '/').concat(t))); },
      onSortOrder(t) { e(function (e) { return { type: C.e, order: e }; }(t)); },
      onSortBy(t) { e(function (e) { return { type: C.d, sort: e }; }(t)); },
    }))(re));
  },
}]);
